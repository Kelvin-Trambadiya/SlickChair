@(title: String,
  commentForm: Form[Comment],
  comments: List[Comment],
  reviews: List[Review],
  paper: Paper,
  staff: Set[Person],
  navbar: Html
)(summary: Html)

@import helper.FieldConstructors.horizontalForm
@import ReviewConfidence._ 
@import ReviewEvaluation._
@import eu.henkelmann.actuarius.ActuariusTransformer

@main(title, navbar) {
  @summary

  <hr>
  
  <form class="form-horizontal">
    @reviews.map { review =>
      @staff.find(_.id == review.personid).map { p =>
  @*      <b title="@p.email">@p.firstname @p.lastname</b> reviewed @date(review.updatedAt) *@
        <div class="form-group  " id="_field">
          <label class="col-lg-2 control-label markdown-label">
            <b title="@p.email">@p.firstname.capitalize @p.lastname.capitalize</b><br>@date(review.updatedAt)
          </label>
          <div class="col-lg-9">
            <div class="panel panel-default">
              <div class="panel-heading">
                Evaluation: @review.evaluation.toString.replace("_", " ")&emsp;
                Confidence: @review.confidence.toString.replace("_", " ")
                <div class="pull-right edit">
                  <a href="#" class="glyphicon glyphicon-pencil"></a>
                </div>
              </div>
              <div class="panel-body markdown-body">
                @Html(new ActuariusTransformer()(review.content))
              </div>
            </div>
          </div>
        </div>
      }
    }
  </form>
  @form(routes.Reviewing.doComment(paper.id.value)) {
    @textarea(
      commentForm("content"),
      '_label -> "Comment",
      'placeholder -> "Leave a comment",
      'rows -> 3)
      
    @inputText(
      commentForm("personid"),
      '_label -> "hidden")
    
    @button("Submit")
  }
}

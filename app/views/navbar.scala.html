@(user: Option[models.Person],
  menu: List[(play.api.mvc.Call, String)]
)(implicit request: play.api.mvc.Request[Any])

@idSize = @{ models.newId.value.toString.size }
@import securesocial.core.providers.utils.RoutesHelper

<div class="navbar-header">
  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a href="@menu.head._1" class="navbar-brand">@menu.head._2</a>
</div>

<div class="collapse navbar-collapse">
  <ul class="nav navbar-nav">
    @menu.tail.map { case (url, text) =>
      <li @if(request.uri.takeRight(idSize) equals url.toString.takeRight(idSize)) { class="active" }><a href="@url">@text</a></li>
    }
  </ul>
  
@user match {
  case None => {
    <p class="navbar-text pull-right">
      <a href="#" class="navbar-link">Disconnected</a>
    </p>
  }
  case Some(p) => {
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">@p.email <b class="caret"></b></a>
        <ul class="dropdown-menu">
          <li><a href="@controllers.chair.routes.Sql.form">Change role to Chair</a></li>
          <li><a href="@controllers.member.routes.Reviewing.papers">Change role to PC Member</a></li>
          <li><a href="@routes.Submitting.make">Change role to Author</a></li>
          <li class="divider"></li>
          <li><a href="@RoutesHelper.logout()">Disconnect</a></li>
        </ul>
      </li>
    </ul>
  }
}

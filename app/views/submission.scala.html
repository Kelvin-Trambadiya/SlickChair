@(title: String,
  submissionForm: Form[SubmissionForm],
  user: Option[String] = None,
  topics: List[models.entities.Topic] = models.entities.Topics.all)

@import helper.bootstrap3._
@import models.entities._

@authors = @{(0 to 2)}

@main(title, user) {
  @bootstrap3.form(
    routes.Submitting.make,
    'enctype -> "multipart/form-data") {
  
    <fieldset>
      <legend>General Informations</legend>
      @bootstrap3.inputText(
        submissionForm("paper.title"),
        '_label -> "Paper title")
      @bootstrap3.inputRadioGroup(
        submissionForm("paper.format.value"), 
        PaperType.values.toSeq.map(f => f.toString -> f.toString.replace("_", " ")), 
        '_label -> "Type")
      @bootstrap3.inputText(
        submissionForm("paper.keywords"),
        '_label -> "Keywords")
      @bootstrap3.textarea(
        submissionForm("paper.abstrct"),
        '_label -> "Abstract",
        'placeholder -> "Abstract",
        'rows -> 5)
      @bootstrap3.inputCheckboxGroup(
        submissionForm,
        "topics",
        topics.toSeq.map( t => (t.id, t.name) ),
        '_label -> "Topics")
      @bootstrap3.inputFile(
        submissionForm("data"),
        '_label -> "File")
      @bootstrap3.select(
        submissionForm("nauthors"),
        authors.map(i => ((i+1).toString, (i+1).toString)),
        '_label -> "Number of authors",
        '_class -> "hidejsss")
    </fieldset>
    @authors.map { i =>
      <fieldset class="hidejs" id="author@i">
        <legend>Author @(i+1)</legend>
        @bootstrap3.inputText(
          submissionForm(s"authors[$i].firstname"),
          '_label -> "First Name")
        @bootstrap3.inputText(
          submissionForm(s"authors[$i].lastname"),
          '_label -> "Last Name")
        @bootstrap3.inputText(
          submissionForm(s"authors[$i].organization"), 
          '_label -> "Organization")
        @bootstrap3.inputText(
          submissionForm(s"authors[$i].email"),
          '_label -> "Email")
      </fieldset>
    }
    </fieldset>
      @bootstrap3.addremove(
        submissionForm(""), // Hack to prevent repeat of the html form divs.
        '_label -> "Add/Remove Authors")
    <fieldset>
    @bootstrap3.button("Submit")
  }
}
